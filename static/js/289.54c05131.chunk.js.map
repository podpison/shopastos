{"version":3,"file":"static/js/289.54c05131.chunk.js","mappings":"8PAeaA,EAAqB,WAC9B,OAA2BC,EAAAA,EAAAA,MAArBC,EAAN,EAAMA,SAAUC,EAAhB,EAAgBA,OACZC,GAAaC,EAAAA,EAAAA,IAAYC,EAAAA,IAEzBC,EAAkBL,EAASM,MAAM,UAAUC,MAAM,GACjDC,EAAeN,EA6BnB,OA5BgC,IAA5BD,EAAOQ,QAAQ,UAAgD,IAA9BR,EAAOQ,QAAQ,YAChDD,EAA0C,IAA3BH,EAAgBK,OAC7BR,EAAWS,QAAO,SAAAC,GAAC,YAA2BC,IAAvBR,EAAgB,IAAmBS,EAAAA,EAAAA,GAAiBF,EAAEG,SAASC,OAASX,EAAgB,IAAKS,EAAAA,EAAAA,GAAiBF,EAAEK,YAAYD,OAASX,EAAgB,MAC5KH,IAGNgB,EAAAA,EAAAA,kBAAgB,WACZ,IAAMC,EAAWC,SAASC,cAAT,WAA2BC,EAAAA,EAAAA,sBAA0BH,SAChEI,EAAiBJ,EAAST,OAChC,GAAuB,IAAnBa,EAKA,IAJA,IAAMC,EAAOC,MAAMC,KAAKP,GAClBQ,EAAaH,EAAK,GAAGI,UACrBC,EAAaL,EAAKM,WAAU,SAAAlB,GAAC,OAAIA,EAAEgB,UAAYD,KAC/CI,GAA4B,IAAhBF,EAAoBL,EAAKd,OAASmB,EAC3CjB,EAAI,EAAGA,GAAKoB,KAAKC,MAAMV,EAAiBQ,GAAYnB,IAAK,CAC9DO,EAASP,EAAImB,EAAY,GAAGV,cAAc,MAAOa,aAAa,QAAS,kCACvE,IAAIC,EAAShB,EAASP,EAAImB,EAAY,GAAGV,cAAc,MACnDc,GACAA,EAAQD,aAAa,QAAS,kCAElC,IAAIE,EAAQjB,EAASP,EAAImB,EAAY,GAAGV,cAAc,MAClDe,GACAA,EAAOF,aAAa,QAAS,qCAI1C,CAAChC,KAEG,iCACH,qBAASmC,UAAWf,EAAAA,EAAAA,SAApB,WACI,SAAC,IAAD,CAAoBgB,WAAW,EAAOC,oBAAqBjB,EAAAA,EAAAA,uBAC3D,SAAC,IAAD,CAAOkB,eAAe,WAAWC,MAAOjC,EAAckC,QAAS,QAEnE,SAAC,IAAD","sources":["components/pages/allGoods/AllGoods.tsx"],"sourcesContent":["import { Cards } from \"../../commonComponents/cards/Cards\";\r\nimport { OrderCustomMerch } from \"../../commonComponents/orderCustormMerch/OrderCustomMerch\";\r\nimport c from \"./allGoods.module.scss\";\r\nimport { AllGoodsCategories } from \"../../commonComponents/allGoodsCategories/AllGoodsCategories\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getAllGoodsItemsSelector } from \"../../../redux/selectors\";\r\nimport { wordToPathHelper } from \"../../../helpers/wordToPathHelper\";\r\nimport { useLayoutEffect } from \"react\";\r\n\r\nexport type AllGoodsFilterType = {\r\n    filter: string\r\n    isItSubcategory: boolean\r\n} | null\r\n\r\nexport const AllGoods: React.FC = () => {\r\n    let { pathname, search } = useLocation();\r\n    let cardsItems = useSelector(getAllGoodsItemsSelector);\r\n\r\n    let splitedPathname = pathname.split(/[\\s/]+/).slice(2); //remove the page name\r\n    let filtredItems = cardsItems;\r\n    if (search.indexOf('item') === -1 || search.indexOf('basket') === -1) {\r\n        filtredItems = splitedPathname.length !== 0\r\n        ? cardsItems.filter(i => splitedPathname[1] === undefined ? wordToPathHelper(i.category.eng) === splitedPathname[0] : wordToPathHelper(i.subcategory.eng) === splitedPathname[1])\r\n        : cardsItems;\r\n    };\r\n\r\n    useLayoutEffect(() => {\r\n        const children = document.querySelector(`.${c.categoriesContainer}`)!.children\r\n        const childrenLength = children.length;\r\n        if (childrenLength !== 1) {\r\n            const grid = Array.from(children) as HTMLElement[];\r\n            const baseOffset = grid[0].offsetTop;\r\n            const breakIndex = grid.findIndex(i => i.offsetTop > baseOffset);\r\n            const numPerRow = breakIndex === -1 ? grid.length : breakIndex;\r\n            for (let i = 1; i <= Math.floor(childrenLength / numPerRow); i++) {\r\n                children[i * numPerRow - 1].querySelector('ul')!.setAttribute('style', 'right: 0; left: auto!important')\r\n                let second = children[i * numPerRow - 2].querySelector('ul');\r\n                if (second) {\r\n                    second!.setAttribute('style', 'right: 0; left: auto!important')\r\n                }\r\n                let third = children[i * numPerRow - 3].querySelector('ul')\r\n                if (third) {\r\n                    third!.setAttribute('style', 'right: 0; left: auto!important')\r\n                }\r\n            }\r\n        }\r\n    }, [cardsItems])\r\n\r\n    return <>\r\n        <section className={c.allGoods}>\r\n            <AllGoodsCategories container={false} categoriesContainer={c.categoriesContainer} />\r\n            <Cards paginationName=\"allGoods\" items={filtredItems} portion={1} />\r\n        </section>\r\n        <OrderCustomMerch />\r\n    </>\r\n};"],"names":["AllGoods","useLocation","pathname","search","cardsItems","useSelector","getAllGoodsItemsSelector","splitedPathname","split","slice","filtredItems","indexOf","length","filter","i","undefined","wordToPathHelper","category","eng","subcategory","useLayoutEffect","children","document","querySelector","c","childrenLength","grid","Array","from","baseOffset","offsetTop","breakIndex","findIndex","numPerRow","Math","floor","setAttribute","second","third","className","container","categoriesContainer","paginationName","items","portion"],"sourceRoot":""}